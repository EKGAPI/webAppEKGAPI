<header class="navbar btn-material-teal" ng-controller="AuthController">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-warning-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a href="#/choose"><img src="/components/images/mainLogoTrans.png" style="float:left"></a>
    <a class="navbar-brand" href="#/home" style="font-weight: bold; font-size: 20px;">EKG Tracker</a>

  </div>
  <div class="navbar-collapse collapse navbar-warning-collapse" style="font-weight: bold;">
    <ul class="nav navbar-nav">
      <li ng-cloak ng-show='isAuth()'><a href="#/triage">Triage</a></li>
      <li ng-cloak ng-show='isAuth()'><a href="#/home">Analysis</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li ng-cloak ng-show='isAuth()'><a href='#/triage' id="signout" ng-click='signout()'>Sign Out</a>
      <li ng-cloak ng-hide='isAuth()' class="dropdown">
        <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Sign In <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <form accept-charset="UTF-8" name="signinForm" >
            <input type="text" class="form-control" placeholder="email" ng-model='user.username'>
            <input type="password" class="form-control" placeholder="password" ng-model='user.password'>
            <button class="btn btn-material-teal btn-block" id="sign-in" ng-click="signin()" value="Sign In">Sign In</button>
            <input type="password" class="form-control" placeholder="confirm password" ng-model="user.cpassword">
            <input type="text" class="form-control" placeholder="first name" ng-model='user.first'>
            <input type="text" class="form-control" placeholder="last name" ng-model='user.last'>
            <button class="btn btn-material-teal btn-block" id="sign-up" ng-click="signup()" value="Sign Up">Sign Up</button>
          </form>
        </ul>
      </li>
    </ul>
  </div>
</header><!-- nav bar -->

<div ng-controller="AuthController">
  
  <h1 ng-hide="isAuth()" align="center">Welcome to EKG Tracker!</h1>
  
  <div style="padding:20px;" ng-show="isAuth()">


      <h1 style="padding:10px;">Welcome Dr. Smith</h1>
      <div class="col-md-6 col-xs-12">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <h2 class="panel-title">Patient Stats for this Month</h2>
            </div>
            <div class="panel-body">
              <table class="table table-striped table-hover">
                  <th>December 2014:</th>
                  <tr>
                      <td>Active Patients</td>
                      <td>54</td>
                  </tr>
                  <tr>
                      <td>Inactive Patients</td>
                      <td>92</td>
                  </tr>
                  <tr data-toggle="modal" data-target="#myModal">
                      <td class="danger">To Review</td>
                      <td class="danger">3</td>
                  </tr>
              </table>
            </div>
          </div>
      </div>
      <div class="col-md-6 col-xs-12">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <h2 class="panel-title">Yearly Patient Data Visualization</h2>
            </div>
            <div class="panel-body">
            <div id="chart" style="min-width: 310px; height: 400px; margin: 0 auto;"></div>
            <script>
              $(function () {
                  $('#chart').highcharts({
                      chart: {
                          type: 'column'
                      },
                      title: {
                          text: 'Monthly Average Patient Stats'
                      },
                      xAxis: {
                          categories: [
                              'Jan',
                              'Feb',
                              'Mar',
                              'Apr',
                              'May',
                              'Jun',
                              'Jul',
                              'Aug',
                              'Sep',
                              'Oct',
                              'Nov',
                              'Dec'
                          ]
                      },
                      yAxis: {
                          min: 0,
                          title: {
                              text: 'Number of patients'
                          }
                      },
                      tooltip: {
                          headerFormat: '<span style="font-size:8px">{point.key}</span><table>',
                          pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                              '<td style="padding:5"><b>{point.y:.1f} </b></td></tr>',
                          footerFormat: '</table>',
                          shared: true,
                          useHTML: true
                      },
                      plotOptions: {
                          column: {
                              pointPadding: 0.2,
                              borderWidth: 0
                          }
                      },
                      series: [{
                          name: 'Active',
                          data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]

                      }, {
                          name: 'Inactive',
                          data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3]

                      }, {
                          name: 'To Review',
                          data: [48.9, 38.8, 39.3, 41.4, 47.0, 48.3, 59.0, 59.6, 52.4, 65.2, 59.3, 3]
                      }]
                  });
              });
            </script>
            
            </div>
          </div>
      </div>



      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">3 Patients Need Review</h4>
            </div>
            <div class="modal-body">
              <table class="table table-striped table-hover">
                  <tr>
                      <td>Nancy Drew</td>
                      <td>Female</td>
                      <td>67 yo</td>
                      <td><a href="#/home">View</a></td>

                  </tr>
                  <tr>
                      <td>John Brown</td>
                      <td>Male</td>
                      <td>52 yo</td>
                      <td><a href="#/home">View</a></td>
                  </tr>
                  <tr>
                      <td>Thomas Johnson</td>
                      <td>Male</td>
                      <td>58 yo</td>
                      <td><a href="#/home">View</a></td>
                  </tr>
              </table>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
  </div>
</div>
